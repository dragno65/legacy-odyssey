<section id="page-before" class="page-section">
  <div class="page-header">
    <div class="page-header-eyebrow">Chapter One</div>
    <h2 class="page-header-title"><em>Before</em> You Arrived</h2>
    <p class="page-header-sub">The months of anticipation, preparation, and love that came before your first breath.</p>
  </div>
  <div class="page-body">
    <div class="before-grid">
      <% (beforeCards || []).forEach(card => { %>
        <div class="before-card">
          <div class="before-card-photo">
            <% if (card.photo_path) { %>
              <img src="<%= imageUrl(card.photo_path) %>" alt="<%= card.title %>" loading="lazy">
            <% } %>
            <% if (card.subtitle) { %>
              <span class="photo-label"><%= card.subtitle %></span>
            <% } %>
          </div>
          <div class="before-card-body">
            <div class="before-card-title"><%= card.title %></div>
            <p class="before-card-text"><%- (card.body || '').replace(/\n/g, '<br>') %></p>
          </div>
        </div>
      <% }); %>
    </div>

    <% if (checklist && checklist.length) { %>
      <div class="checklist">
        <div class="checklist-title">Getting Ready For You &#10003;</div>
        <div class="checklist-grid">
          <% checklist.forEach(item => { %>
            <div class="check-item">
              <div class="check-icon"><% if (item.is_checked) { %>&#10003;<% } %></div>
              <%= item.label %>
            </div>
          <% }); %>
        </div>
      </div>
    <% } %>
  </div>
</section>
